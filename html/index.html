<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>APRTS OS 3.0</title>
    
    <!-- Ikonky (FontAwesome CDN pro jistotu) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Quill Editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

    <!-- Libs -->
    <script src="libs/jquery-3.6.0.min.js"></script> <!-- Ujisti se, že máš jQuery v libs/ -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Styly -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- LOGIN SCREEN -->
    <div id="login-screen">
        <div class="login-box">
            <div class="user-avatar"><i class="fas fa-user-astronaut"></i></div>
            <h2 id="login-user">Uživatel</h2>
            <div class="input-group">
                <input type="password" id="login-pass" placeholder="Heslo (nevyžadováno)">
                <button onclick="Core.login()"><i class="fas fa-arrow-right"></i></button>
            </div>
            <button class="btn-shutdown" onclick="Core.shutdown()">Vypnout systém</button>
        </div>
    </div>

    <!-- DESKTOP -->
    <div id="os-root" style="display: none;">
        <!-- Plocha -->
        <div id="desktop-icons"></div>

        <!-- Okna -->
        <div id="windows-area"></div>

        <!-- Taskbar -->
        <div id="taskbar">
            <div class="start-btn" onclick="Core.toggleStartMenu()">
                <i class="fab fa-windows"></i>
            </div>
            <div id="taskbar-apps"></div>
            <div id="tray">
                <div id="hw-info">RAM: 0GB</div>
                <div id="clock">12:00</div>
            </div>
        </div>

        <!-- Start Menu -->
        <div id="start-menu">
<div class="start-sidebar">
    <!-- Červené tlačítko: ÚPLNÉ VYPNUTÍ -->
    <div onclick="Core.shutdown()" title="Vypnout PC" style="color: #e74c3c;">
        <i class="fas fa-power-off"></i>
    </div>
    
    <!-- Žluté/Jiné tlačítko: ODEJÍT (nechat běžet) -->
    <div onclick="Core.leave()" title="Odejít (nechat zapnuté)">
        <i class="fas fa-walking"></i> <!-- nebo fa-sign-out-alt -->
    </div>

    <div onclick="Core.openApp('settings')" title="Nastavení">
        <i class="fas fa-cog"></i>
    </div>
</div>
            <div class="start-content" id="start-list"></div>
        </div>
    </div>

    <!-- ŠABLONY (Obsah aplikací) -->
    
    <!-- 1. NOTEPAD TPL -->
    <template id="tpl-notepad">
        <div class="app-layout">
            <div id="notepad-editor" style="flex-grow: 1;"></div>
        </div>
    </template>

    <!-- 2. FILES TPL -->
    <template id="tpl-files">
        <div class="app-layout">
            <div class="files-breadcrumbs">
                <button class="btn-icon" id="btn-back"><i class="fas fa-arrow-left"></i></button>
                <button class="btn-icon" id="btn-home"><i class="fas fa-home"></i></button>
                <input type="text" id="path-input" value="C:/" readonly>
            </div>
            <div class="files-grid" id="files-grid"></div>
            <div class="files-footer">
                <span id="files-status">Načítání...</span>
            </div>
        </div>
    </template>

    <!-- 3. SETTINGS TPL -->
    <template id="tpl-settings">
        <div class="app-padding">
            <h3>Přizpůsobení</h3>
            <label>Barva motivu</label>
            <input type="color" id="set-color" style="width:100%; height:40px;">
            <br><br>
            <label>Tapeta (URL)</label>
            <input type="text" id="set-wall" placeholder="https://..." style="width:100%; padding:5px;">
            <br><br>
            <button class="btn-primary" id="btn-save-settings">Uložit</button>
            <hr>
            <h3>O systému</h3>
            <div id="sys-info-content"></div>
        </div>
    </template>
    <div id="modal-overlay">
        <!-- Zde se bude dynamicky generovat okno -->
    </div>
    <!-- SKRIPTY (Pořadí je důležité!) -->
    <script src="js/core.js"></script>           <!-- 1. Jádro -->
    <script src="js/modules/notepad.js"></script> <!-- 2. Moduly -->
    <script src="js/modules/files.js"></script>
    <script src="js/modules/settings.js"></script>
    
</body>
</html>